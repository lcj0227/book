1、尽能的组件化，

a、一个 jsx 文件不要太大，逻辑要清晰

b、与外界无关的逻辑都封装到组件内部，外界只需要关心他们相关的逻辑即可

c、每一个组件尽可能职责单一，不要很多逻辑混杂在一起
d、![img](../img/image2017-11-19%2017_57_36_12.png)

e、例如上图，②是“新建表头订阅”，应该是一个独立组件，切换 “编辑”、“显示” 状态等交互，应该在组件内部完成，不要一堆代码、状态 影响外部组件；唯一需要让 父组件知道的就是，新建成功，将结果通知 父组件，父组件更新列表

f、①是每一个表头订阅项，是循环出来的，应该是一个单独的组件，组件实现自己内部的逻辑，比如 “双击编辑”，且编辑结果可以自己处理，不要扰乱外部组件；唯一需要通知父组件的是，单击选中之后，让父组件切换右侧面板数据

g、③是一个组件，仅仅用来显示“新建表头订阅”、“表头订阅项”即可，根据两个组件的 onCreateNewItem、onItemSelect 回调，做一些处理；

2、store 管理数据：

a、多个 store 之间不应该相互依赖、引用，自己维护自己内部数据，更不应该两个 store 循环依赖

b、store 尽量提供完善的方法，修改数据尽量使用 store 提供的针对特定场景的方法，而不是在外面直接修改 store 的数据，也不要在外面零散的拼装数据直接复制给 store

c、get数据，可以直接从 store 获取，也可以用 store 提供的 get方法

d、使用 mobx 的地方，不要再使用 state

3、所有变量名、参数名、函数名、方法名、类名，尽可能的 “长、且意义明确”

a、比如所有函数参数名，都叫做  data，跟叫做 “aaa” 毫无区别，会让阅读代码的人崩溃，且及其容易出错

b、名字尽量全局唯一，一些很明显的 block作用域内的临时变量，例外；

4、尽量全部使用 flow 将函数、变量、参数的类型标注清晰、明确

a、反例：
b、![img](../img/image2017-11-19%2017_59_31_13.png)
c、![img](../img/image2017-11-19%2017_59_44_14.png)
d、![img](../img/image2017-11-19%2017_59_54_15.png)
e、![img](../img/image2017-11-19%2018_0_3_16.png)

5、jsx：目的：提高代码 “可阅读性”、“可维护性”：

a、如果一个 jsx 非常长，tab 缩进非常多，很显然是有问题的，需要思考切分处理；

b、func 类型的 prop，如果逻辑很多，超过一行，就放到独立的方法里面，不要直接写在 jsx 里面，

反例：
![img](../img/image2017-11-19%2018_1_10_17.png)
 c、如果标签属性过多，将每个属性在单独一行，不要混在一起
![img](../img/image2017-11-19%2018_1_48_18.png)
反例：
![img](../img/image2017-11-19%2018_1_58_19.png)
 ?: 三元操作符，? : 都放在行首，如：
 ![img](../img/image2017-11-19%2018_2_16_20.png)

 

 

 

 

 

 